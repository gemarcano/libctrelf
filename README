________________________________________________________________________________

libctrelf

Copyright 2023 Gabriel Marcano
________________________________________________________________________________


--------------------------------------------------------------------------------
Licensing
--------------------------------------------------------------------------------

This project is licensed under the GPL 2 or later licenses, at your choice.
Refer to COPYING for more licensing information and for the licensing for the
code borrowed from other sources.


--------------------------------------------------------------------------------
About
--------------------------------------------------------------------------------

This library is meant to be a collection of functions to simplify reading ELF
files.

Note this library is still in active development and the API is not considered
stable. Breaking changes will be mentioned in commits at the very least.


--------------------------------------------------------------------------------
Dependencies
--------------------------------------------------------------------------------

 - Meson and pkgconf/pkgconfig.

--------------------------------------------------------------------------------
Compiling
--------------------------------------------------------------------------------

Meson requires a cross-file defining the cross-compiler to use, as well as a few
other tools and paths for pkgconf/pkgconfig. Additionally, the cross-file should
specify the required compiler flags for the target. For examples for the 3DS,
refer to the [libctr9](https://github.com/gemarcano/libctr9 and
[libctr11](https://github.com/gemarcano/libctr11) projects.

```
# this following line is if the 3ds compiler isn't in the path
mkdir build/
cd build
meson setup --cross-file [cross-file-path] --prefix [prefix-path]
meson compile
```

Example:
```
mkdir build/
cd build
# assuming the cross-file is in ~/.local/share/meson/cross/
meson setup --cross-file 3ds_baremetal_arm9 --prefix ~/.local/3ds_baremetal_arm9/
meson compile
```


--------------------------------------------------------------------------------
Installation
--------------------------------------------------------------------------------

The following will install the library into the prefix specified when setting
up meson:

```
meson install
```

--------------------------------------------------------------------------------
Usage
--------------------------------------------------------------------------------

Depending on where the library is installed, one may need to use -L in one's
projects to point the compiler to find the library, then use -lctrelf to cause
the linker to link in the static library.

Example:
```
arm-none-eabi-gcc -I~/.local/3ds_baremetal_arm9/include \
  -L~/.local/3ds_baremetal_arm9/lib -Os -Wall -Wextra -Wpedantic hello.c \
  -lctrelf
```

One setup that is recommended is to export a variable such as, CTRARM9, to point
to the root of the prefix where libctr9 is installed. This way, it is easier to
point to the lib and include directories (such as by using $CTRARM9/include and
$CTRARM9/lib).


--------------------------------------------------------------------------------
Documentation (TODO)
--------------------------------------------------------------------------------

This project uses Doxygen markup in order to facilitate the generation of
documentation, which should be found when generated in the doc/ folder. Each
header in the include/ directory should also be well documented and can be used
as reference for programming.

In addition, some documentation is hosted in GitHub pages:
	https://gemarcano.github.io/ctrelf/


--------------------------------------------------------------------------------
Testing (TODO)
--------------------------------------------------------------------------------


--------------------------------------------------------------------------------
Issues/Bugs
--------------------------------------------------------------------------------

Please report these to the issue tracker at the repository, and these will be
addressed as soon as possible, if not at least acknowledged. The more detailed
the reports, the more likely they are to be addressed quickly. In particular,
the following information can be quite useful when debugging bugs:

 - Type of 2/3DS system
 - Operating system being used to compile
 - Release/commit of library in use
 - Steps to reproduce issue
 - Expected behavior
 - Actual behavior
 - ARM9 entry point
 - Any modifications to the library, or extensions


--------------------------------------------------------------------------------
Contributing
--------------------------------------------------------------------------------

Pull requests are welcome. All requests will be looked at in detail, and must be
documented in a similar fashion as the rest of the code for this project. In
particular, it is unlikely (but not impossible) that code that emmits warnings
with the warnings in use by this library would be merged without first fixing/
addressing what is causing the warnings to be emitted.


--------------------------------------------------------------------------------
Credits
--------------------------------------------------------------------------------

 - #3dshacks @ Rizon for starting me on my path to 3DS homebrew development
 - #Cakey @ Freenode for the continued development support
 - #3dsdev @ EFNet for the occasional help answering questions
 - dark_samus for helping to develop A9LH stuff in Cakey, which drove for the
    development of this library
 - Delebile for publishing the public arm9loaderhax implementation, making using
    and testing this library possible (or less of a pain)
 - Aurora, et al. (you know who you are, I hope) for for general development
    help and brainstorming
